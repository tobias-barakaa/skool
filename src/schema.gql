# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type AcademicSummary {
  averageScore: Float!
  currentGrade: String
  currentStream: String
  feesOwed: Float!
  schoolType: String
  totalAssessments: Float!
  totalFeesPaid: Float!
}

type AcademicYear {
  createdAt: DateTime!
  endDate: DateTime!
  id: ID!
  isActive: Boolean!
  isCurrent: Boolean!
  name: String!
  startDate: DateTime!
  tenantId: String!
  terms: [Term!]
  updatedAt: DateTime!
}

input AcceptInvitationInput {
  password: String!
  token: String!
}

type AcceptInvitationResponse {
  invitation: UserInvitation!
  message: String!
  role: String!
  teacher: TeacherOutput
  tokens: TokensOutput!
  user: User!
}

type AcceptParentInvitationResponse {
  invitation: UserInvitation!
  message: String!
  parent: Parent!
  role: MembershipRole!
  tokens: TokensOutput!
  user: User!
}

input AcceptStaffInvitationInput {
  password: String!
  token: String!
}

type AcceptStaffInvitationResponse {
  invitation: UserInvitation!
  message: String!
  role: String!
  staff: StaffInfo
  tokens: TokensOutput!
  user: UserInfo!
}

"""The status of assessment"""
enum AssesStatus {
  COMPLETED
  PENDING
  UPCOMING
}

"""The type of assessment"""
enum AssessType {
  CA
  EXAM
}

type Assessment {
  academicYear: String
  createdAt: DateTime!
  cutoff: Float
  date: DateTime
  description: String
  id: ID!
  maxScore: Float
  status: AssesStatus!
  tenant: Tenant!
  tenantGradeLevel: TenantGradeLevel!
  tenantSubject: TenantSubject!
  tenantSubjectId: String!
  term: Float!
  title: String!
  type: AssessType!
  updatedAt: DateTime!
}

input AssessmentFilterInput {
  academicYear: String
  tenantGradeLevelId: String
  tenantSubjectId: String
  term: Float
  type: AssessType
}

type AssessmentMark {
  assessment: Assessment!
  createdAt: DateTime!
  id: ID!
  score: Float!
  student: Student!
  updatedAt: DateTime!
}

type AssessmentOutput {
  academicYear: String
  createdAt: DateTime!
  cutoff: Float
  description: String
  id: ID!
  maxScore: Float
  status: AssesStatus!
  tenantGradeLevel: TenantGradeLevelOutput
  tenantId: String!
  tenantSubject: TenantSubjectOutput
  term: Float!
  title: String!
  type: AssessType!
  updatedAt: DateTime!
}

enum AssessmentType {
  ASSIGNMENT
  CAT
  EXAM
  QUIZ
  TEST
}

input AssignGradeLevelClassTeacherInput {
  gradeLevelId: ID!
  teacherId: ID!
}

input AssignScholarshipInput {
  academicYear: String!
  scholarshipId: String!
  studentId: String!
}

input AssignStreamClassTeacherInput {
  streamId: ID!
  teacherId: ID!
}

input AssignTransportInput {
  """Pickup point location (optional)"""
  pickupPoint: String

  """Transport route ID to assign student to"""
  routeId: ID!

  """Student ID to assign to transport route"""
  studentId: ID!
}

type Assignment {
  createdAt: DateTime!
  description: String!
  dueDate: DateTime!
  id: ID!
  resourceUrl: String
  status: AssignmentStatus!
  subject: AssignmentSubject!
  submission: AssignmentSubmission
  teacher: AssignmentTeacher!
  title: String!
  totalMarks: Int!
  updatedAt: DateTime!
}

"""Status of the student assignment"""
enum AssignmentStatus {
  GRADED
  OVERDUE
  PENDING
  SUBMITTED
}

type AssignmentSubject {
  id: ID!
  name: String!
}

type AssignmentSubmission {
  comments: String
  feedback: String
  fileUrl: String
  grade: Float
  gradedAt: DateTime
  id: ID!
  submissionText: String
  submittedAt: DateTime!
}

type AssignmentTeacher {
  email: String!
  firstName: String!
  id: ID!
  lastName: String!
}

type AssignmentsResponse {
  assignments: [Assignment!]!
  currentPage: Int!
  total: Int!
  totalPages: Int!
}

type Attendance {
  createdAt: DateTime!
  date: String!
  gradeId: String!
  id: ID!
  status: AttendanceStatus!
  student: Student!
  studentId: String!
  teacher: Teacher!
  teacherId: String!
  tenantId: String!
}

input AttendanceInput {
  status: AttendanceStatus!
  studentId: String!
}

enum AttendanceStatus {
  ABSENT
  LATE
  PRESENT
  SUSPENDED
}

type AuthResponse {
  allMemberships: [UserTenantMembership!]
  membership: UserTenantMembership
  subdomainUrl: String!
  tenant: Tenant!
  tokens: TokenResponse!
  user: User!
}

input BroadcastMessageInput {
  imageUrl: String
  message: String!
  recipientType: String!
  subject: String
}

"""
Input for bulk toggling fee items by fee structure item and grade levels
"""
input BulkToggleByFeeStructureItemInput {
  """The fee structure item ID to toggle for students"""
  feeStructureItemId: ID!

  """Array of grade level IDs to apply the toggle to"""
  gradeLevelIds: [ID!]!

  """Whether to activate or deactivate the fee items"""
  isActive: Boolean!
}

"""Input for bulk toggling student fee items"""
input BulkToggleStudentFeeItemsInput {
  """Whether to activate or deactivate the fee items"""
  isActive: Boolean!

  """Array of student fee item IDs to toggle"""
  studentFeeItemIds: [ID!]!
}

input BulkTransportAssignmentInput {
  """Common pickup point for all students (optional)"""
  pickupPoint: String

  """Transport route ID to assign students to"""
  routeId: ID!

  """
  Array of student IDs to assign. If empty, assigns all students in tenant
  """
  studentIds: [ID!]
}

input ChangePasswordInput {
  confirmPassword: String!
  currentPassword: String!
  newPassword: String!
}

type ChatMessage {
  chatRoom: ChatRoom!
  chatRoomId: String!
  createdAt: DateTime!
  id: ID!
  imageUrl: String
  isRead: Boolean!
  message: String!
  senderId: String!
  senderType: String!
  subject: String
}

type ChatRoom {
  createdAt: DateTime!
  id: ID!
  messages: [ChatMessage!]
  name: String!
  participantIds: [String!]!
  type: String!
  updatedAt: DateTime!
}

type ClassTeacherAssignment {
  active: Boolean!
  createdAt: DateTime!
  endDate: DateTime
  gradeLevel: TenantGradeLevel
  id: ID!
  startDate: DateTime!
  stream: TenantStream
  teacher: Teacher!
  tenant: Tenant!
  updatedAt: DateTime!
}

type CombinedSearchResult {
  students: [Student!]!
  teachers: [Teacher!]!
  totalCount: Float!
}

type ComprehensiveFeeStructureSummary {
  academicYearSummaries: [FeeStructureSummaryByAcademicYear!]!
  feeBucketSummaries: [FeeStructureSummaryByFeeBucket!]!
  gradeLevelSummaries: [FeeStructureSummaryByGradeLevel!]!
  tenantSummary: FeeStructureSummaryByTenant!
}

input CreateAcademicYearInput {
  endDate: String!
  name: String!
  startDate: String!
}

input CreateAssessmentInput {
  academicYear: String!
  cutoff: Float
  description: String
  maxScore: Float
  status: AssesStatus
  tenantGradeLevelId: String!
  tenantSubjectId: String!
  term: Float!
  title: String
  type: AssessType!
}

input CreateAssignmentSubmissionInput {
  assignmentId: ID!
  comments: String
  fileUrl: String
  submissionText: String
}

input CreateAttendanceInput {
  attendanceRecords: [AttendanceInput!]!
  date: String!
  gradeId: String!
}

input CreateCustomSubjectInput {
  category: String
  code: String!
  creditHours: Float
  curriculumId: String!
  department: String
  isCompulsory: Boolean! = true
  name: String!
  passingMarks: Float
  shortName: String
  subjectType: String! = "core"
  totalMarks: Float
}

"""Input for creating a new fee assignment"""
input CreateFeeAssignmentInput {
  """Optional description or notes about this assignment"""
  description: String

  """The ID of the fee structure to assign"""
  feeStructureId: String!

  """Array of tenant grade level IDs (not grade level IDs)"""
  tenantGradeLevelIds: [String!]!
}

"""Input type for creating a new fee bucket"""
input CreateFeeBucketInput {
  """Description of the fee bucket"""
  description: String

  """The name of the fee bucket"""
  name: String!
}

input CreateFeeStructureWithItemsInput {
  academicYearId: String!
  gradeLevelIds: [String!]
  items: [FeeStructureItemInput!]
  name: String!
  termIds: [String!]!
}

input CreateHostelAssignmentInput {
  bedNumber: String
  hostelId: ID!
  roomNumber: String
  studentId: ID!
}

input CreateHostelInput {
  capacity: Int!
  feeAmount: Float!
  name: String!
}

input CreateInvoiceInput {
  dueDate: String
  issueDate: String
  notes: String

  """Student ID - required if not generating for all students"""
  studentId: ID

  """Specific tenant grade level IDs to generate invoices for"""
  tenantGradeLevelIds: [ID!]
  termId: ID!
}

input CreateOptionInput {
  imageUrl: String
  isCorrect: Boolean!
  order: Int!
  text: String!
}

input CreateParentInvitationDto {
  admissionNumber: String
  email: String!
  linkingMethod: ParentLinkingMethod!
  name: String!
  phone: String
  studentFullName: String
  studentGrade: String
  studentName: String
  studentPhone: String
}

input CreatePaymentInput {
  amount: Float!
  invoiceId: ID!
  notes: String
  paymentDate: String
  paymentMethod: String
  transactionReference: String
}

input CreateQuestionInput {
  aiPrompt: String
  imageUrls: [String!]
  isAIGenerated: Boolean!
  marks: Int!
  options: [CreateOptionInput!]
  order: Int!
  text: String!
  type: QuestionType!
}

input CreateReferenceMaterialInput {
  fileSize: Float
  fileType: String!
  fileUrl: String!
}

input CreateScholarshipInput {
  amount: Float!
  description: String
  name: String!
  type: String
}

input CreateStaffInvitationDto {
  address: String
  bankAccount: String
  bankName: String
  dateOfBirth: String
  dateOfJoining: String
  department: String
  email: String!
  emergencyContact: String
  emergencyContactPhone: String
  employeeId: String
  firstName: String!
  fullName: String!
  gender: String!
  jobDescription: String
  lastName: String!
  nationalId: String
  phoneNumber: String
  qualifications: String
  role: String!
  roleType: String!
  salary: Float
  supervisor: String
  workExperience: String
}

input CreateStreamInput {
  capacity: Int
  description: String
  gradeLevelId: String!
  isActive: Boolean = true
  name: String!
}

input CreateStudentInput {
  admission_number: String!
  email: String!
  gender: String!
  name: String!
  phone: String!
  schoolType: String
  tenantGradeLevelId: String!
}

type CreateStudentResponse {
  generatedPassword: String!
  student: Student!
  user: User!
}

input CreateTeacherInvitationDto {
  address: String
  classTeacherTenantGradeLevelId: ID
  classTeacherTenantStreamId: ID
  dateOfBirth: String
  department: String!
  email: String!
  employeeId: String
  firstName: String!
  fullName: String!
  gender: String!
  lastName: String!
  phoneNumber: String!
  qualifications: String
  role: String!
  tenantGradeLevelIds: [ID!]
  tenantSubjectIds: [ID!]
}

input CreateTenantStreamInput {
  capacity: Int
  description: String
  name: String!
  tenantGradeLevelId: String!
}

"""Input data for creating a new term"""
input CreateTermInput {
  """The ID of the academic year to which this term belongs"""
  academicYearId: ID!

  """The end date of the term (YYYY-MM-DD). Must be after start date."""
  endDate: String!

  """The name of the term"""
  name: String!

  """The start date of the term (YYYY-MM-DD)"""
  startDate: String!
}

input CreateTestInput {
  date: DateTime!
  duration: Int!
  endTime: String
  instructions: String
  questions: [CreateQuestionInput!]
  referenceMaterials: [CreateReferenceMaterialInput!]
  resourceUrl: String
  startTime: String!
  tenantGradeLevelIds: [ID!]!
  tenantSubjectId: ID!
  title: String!
  totalMarks: Int!
}

input CreateTransportRouteInput {
  """Custom label e.g. 'Per Semester' or 'Every 2 Weeks'"""
  billingCycleLabel: String
  fee: Float!
  name: String!
}

type CreateUserResponse {
  membership: UserTenantMembership
  school: School!
  subdomainUrl: String!
  tenant: Tenant!
  tokens: TokensOutput!
  user: User!
}

type Curriculum {
  code: String!
  curriculumSubjects: [CurriculumSubject]!
  display_name: String!
  gradeLevels: [GradeLevel]!
  id: ID!
  name: String!
  schoolLevels: [SchoolLevel]!
  schoolType: SchoolType
}

type CurriculumSubject {
  availableGrades: [GradeLevel!]
  creditHours: Float
  curriculum: Curriculum!
  displayOrder: Float
  id: ID!
  isActive: Boolean!
  isCompulsory: Boolean
  passingMarks: Float
  schoolLevel: SchoolLevel
  subject: Subject!
  subjectType: SubjectType!
  totalMarks: Float
}

type CustomSubject {
  category: String
  code: String
  creditHours: Float
  department: String
  id: ID!
  isActive: Boolean!
  isCompulsory: Boolean
  name: String!
  passingMarks: Float
  shortName: String
  subjectType: SubjectTypeEnum
  totalMarks: Float
}

input DateRangeInput {
  endDate: String!
  startDate: String!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

input EnterStudentMarksInput {
  marks: [StudentMarkInput!]!
  studentId: ID!
}

"""
Represents bulk assignment of fee structure to students in specific grade levels
"""
type FeeAssignment {
  """The ID of the user who created this assignment"""
  assignedBy: ID!
  assignedByUser: User!

  """The date and time when the fee assignment was created"""
  createdAt: DateTime!

  """Optional description or notes about this assignment"""
  description: String

  """The fee structure being assigned"""
  feeStructure: FeeStructure!

  """The ID of the fee structure being assigned"""
  feeStructureId: ID!

  """Indicates if the fee assignment has any student assignments"""
  hasItems: Boolean!

  """The unique identifier of the fee assignment"""
  id: ID!

  """Indicates if the fee assignment is currently active"""
  isActive: Boolean!

  """Individual student assignments created from this bulk assignment"""
  studentAssignments: [StudentFeeAssignment!]!
  studentsAssignedCount: Int!

  """The ID of the tenant this fee assignment belongs to"""
  tenantId: String!

  """The date and time when the fee assignment was last updated"""
  updatedAt: DateTime!
}

"""Fee assignment with detailed student information and fee items"""
type FeeAssignmentWithStudents {
  """The fee assignment details"""
  feeAssignment: FeeAssignment!

  """All student assignments for this fee assignment"""
  studentAssignments: [StudentFeeAssignment!]!

  """Total number of students assigned"""
  totalStudents: Int!
}

"""Represents a fee category/bucket like Tuition, Transport, etc."""
type FeeBucket {
  """The date and time when the fee bucket was created"""
  createdAt: DateTime!

  """Description of the fee bucket"""
  description: String

  """The unique identifier of the fee bucket"""
  id: ID!

  """Indicates if the fee bucket is currently active"""
  isActive: Boolean!

  """The name of the fee bucket"""
  name: String!

  """The ID of the tenant this fee bucket belongs to"""
  tenantId: String!

  """The date and time when the fee bucket was last updated"""
  updatedAt: DateTime!
}

type FeeItemSummary {
  academicYearName: String!
  amount: Float!
  feeBucketName: String!
  feeStructureName: String!
  id: ID!
  isMandatory: Boolean!
  termName: String!
}

type FeeStructure {
  academicYear: AcademicYear!
  academicYearId: String!
  createdAt: DateTime!
  gradeLevels: [TenantGradeLevel!]
  id: ID!
  isActive: Boolean!
  items: [FeeStructureItem!]
  name: String!
  tenantId: String!
  terms: [Term!]!
  updatedAt: DateTime!
}

type FeeStructureItem {
  amount: Float!
  createdAt: DateTime!
  feeBucket: FeeBucket!
  feeBucketId: String!
  feeStructure: FeeStructure!
  feeStructureId: String!
  id: ID!
  isMandatory: Boolean!
  tenantId: String!
  updatedAt: DateTime!
}

input FeeStructureItemInput {
  amount: Float!
  feeBucketId: String!
  isMandatory: Boolean! = true
}

type FeeStructureSummaryByAcademicYear {
  academicYearId: String!
  academicYearName: String!
  affectedGradeLevels: Int!
  terms: [String!]!
  totalAmount: Float!
  totalFeeStructures: Int!
}

type FeeStructureSummaryByFeeBucket {
  feeBucketId: String!
  feeBucketName: String!
  mandatoryCount: Int!
  optionalCount: Int!
  totalAmount: Float!
  usageCount: Int!
}

type FeeStructureSummaryByGradeLevel {
  academicYears: [String!]!
  gradeLevelId: String!
  gradeLevelName: String!
  terms: [String!]!
  totalAmount: Float!
  totalFeeStructures: Int!
  totalItems: Int!
  totalMandatoryAmount: Float!
  totalOptionalAmount: Float!
}

type FeeStructureSummaryByTenant {
  grandTotalAmount: Float!
  tenantId: String!
  totalFeeItems: Int!
  totalFeeStructures: Int!
  totalGradeLevels: Int!
  totalMandatoryAmount: Float!
  totalOptionalAmount: Float!
  uniqueAcademicYears: [String!]!
  uniqueFeeBuckets: [String!]!
  uniqueTerms: [String!]!
}

input FilterInput {
  streamIds: [ID!]
  tenantGradeLevelIds: [ID!]
  tenantSubjectIds: [ID!]
}

type FilteredResult {
  students: [Student!]
  teachers: [Teacher!]
  totalCount: Float!
}

input ForgotPasswordInput {
  email: String!
}

input GenerateQuestionsInput {
  grade: String!
  marksPerQuestion: Int!
  numberOfQuestions: Int!
  prompt: String!
  sampleQuestion: String
  subject: String!
}

type GeneratedOptionOutput {
  isCorrect: Boolean!
  order: Int!
  text: String!
}

type GeneratedQuestionOutput {
  aiPrompt: String
  isAIGenerated: Boolean!
  marks: Int!
  options: [GeneratedOptionOutput!]!
  order: Int!
  text: String!
  type: String!
}

"""Input for retrieving fee assignments by specific tenant grade levels"""
input GetFeeAssignmentsByGradeLevelsInput {
  """Optional fee structure ID to filter by specific fee structure"""
  feeStructureId: ID

  """Array of tenant grade level IDs to filter by"""
  tenantGradeLevelIds: [ID!]!
}

type Grade {
  academicYear: String!
  assessmentName: String!
  assessmentType: AssessmentType!
  classId: String!
  dateRecorded: DateTime!
  gradeId: ID!
  isPublished: Boolean!
  letterGrade: String
  marksObtained: Float!
  percentage: Float!
  points: Float
  recordedBy: String!
  studentId: String!
  subjectId: String!
  term: String!
  totalMarks: Float!
}

type GradeLevel {
  age: Float
  code: String!
  curriculum: Curriculum!
  id: ID!
  level: Level!
  name: String!
  order: Float!
  schoolLevel: SchoolLevel
}

type GradeLevelInfo {
  age: Float
  code: String
  id: ID!
  name: String!
  order: Float
  streams: [StreamInfo!]!
}

type GradeLevelOutput {
  id: ID!
  name: String!
}

type GradeLevelStudentsSummary {
  curriculumName: String!
  gradeLevelId: ID!
  gradeLevelName: String!
  students: [StudentSummary!]!
  totalBalance: Float!
  totalFeesOwed: Float!
  totalFeesPaid: Float!
  totalStudents: Int!
}

type GradeLevelWithStreamsOutput {
  id: String!
  name: String!
  streams: [StreamOutput!]!
}

type Hostel {
  capacity: Int!
  createdAt: DateTime!
  feeAmount: Float!
  genderConstraint: String
  hostelAssignments: [HostelAssignment!]
  id: ID!
  isActive: Boolean!
  name: String!
  tenantId: String!
  updatedAt: DateTime!
}

type HostelAssignment {
  assignedAt: DateTime!
  bedNumber: String
  createdAt: DateTime!
  hostel: Hostel!
  id: ID!
  roomNumber: String
  status: String!
  student: Student!
  tenantId: String!
  vacatedAt: DateTime
}

type HostelService {
  assignments: [HostelAssignment!]
  isAssigned: Boolean!
}

type InvitationInfo {
  email: String!
  role: MembershipRole!
  tenantName: String!
}

enum InvitationStatus {
  ACCEPTED
  ALREADY_EXISTS
  BLOCKED
  CANCELLED
  DECLINED
  DUPLICATE
  ERROR
  EXPIRED
  FAILED
  INVALID
  NOT_FOUND
  PENDING
  REVOKED
}

type InviteParentResponse {
  createdAt: DateTime!
  email: String!
  name: String!
  status: String!
  studentAdmissionNumber: String
  students: [StudentSummaryDto!]!
}

type InviteStaffResponse {
  createdAt: DateTime!
  email: String!
  fullName: String!
  status: String!
}

type InviteTeacherResponse {
  createdAt: DateTime!
  email: String!
  fullName: String!
  status: String!
}

"""Represents a student invoice"""
type Invoice {
  academicYear: AcademicYear!
  academicYearId: ID!
  balanceAmount: Float!
  createdAt: DateTime!
  dueDate: DateTime!
  id: ID!
  invoiceNumber: String!
  issueDate: DateTime!
  items: [InvoiceItem!]!
  notes: String
  paidAmount: Float!
  payments: [Payment!]
  status: InvoiceStatus!
  student: Student!
  studentId: ID!
  tenantId: String!
  term: Term!
  termId: ID!
  totalAmount: Float!
  updatedAt: DateTime!
}

"""Represents individual line items on an invoice"""
type InvoiceItem {
  amount: Float!
  createdAt: DateTime!
  description: String!
  feeBucket: FeeBucket!
  feeBucketId: ID!
  id: ID!
  invoice: Invoice!
  invoiceId: ID!
  isMandatory: Boolean!
  tenantId: String!
}

enum InvoiceStatus {
  CANCELLED
  DRAFT
  OVERDUE
  PAID
  PARTIALLY_PAID
  PENDING
}

"""
The `JSON` scalar type represents JSON values as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).
"""
scalar JSON

"""Individual ledger entry"""
type LedgerEntry {
  balance: Float!
  credit: Float!
  date: DateTime!
  debit: Float!
  description: String!
  invoiceNumber: String
  receiptNumber: String
  reference: String!
}

"""Ledger summary"""
type LedgerSummary {
  averagePaymentAmount: Float!
  invoiceCount: Int!
  lastPaymentDate: DateTime
  paymentCount: Int!
  totalBalance: Float!
  totalInvoiced: Float!
  totalPaid: Float!
}

type Level {
  description: String
  gradeLevels: [GradeLevel!]
  grades: [Grade!]!
  id: ID!
  name: String!
  schoolType: SchoolTypeConfig!
}

type MarksStatsDto {
  entered: Float!
  highest: Float!
  lowest: Float!
  mean: String!
  total: Float!
}

enum MembershipRole {
  PARENT
  SCHOOL_ADMIN
  SCHOOL_MANAGER
  STAFF
  STUDENT
  SUPER_ADMIN
  TEACHER
  TREASURER
}

enum MembershipStatus {
  ACTIVE
  EXPIRED
  PENDING
  SUSPENDED
}

type Mutation {
  acceptParentInvitation(acceptInvitationInput: AcceptInvitationInput!): AcceptParentInvitationResponse!
  acceptStaffInvitation(acceptInvitationInput: AcceptStaffInvitationInput!): AcceptStaffInvitationResponse!
  acceptTeacherInvitation(acceptInvitationInput: AcceptInvitationInput!): AcceptInvitationResponse!
  activateTenantSubject(tenantSubjectId: String!): Boolean!
  addStudentsToParent(parentId: String!, studentIds: [String!]!, tenantId: String!): String!
  assignClassTeacher(input: AssignStreamClassTeacherInput!): ClassTeacherAssignment!
  assignGradeLevelClassTeacher(input: AssignGradeLevelClassTeacherInput!): ClassTeacherAssignment!
  assignScholarship(input: AssignScholarshipInput!): StudentScholarship!
  assignStudentToHostel(input: CreateHostelAssignmentInput!): HostelAssignment!
  assignStudentToRoute(input: AssignTransportInput!): TransportAssignment!
  assignStudentsToRoute(input: BulkTransportAssignmentInput!): [TransportAssignment!]!
  bulkAssignStudentsToRoute(input: BulkTransportAssignmentInput!): [TransportAssignment!]!

  """
  Bulk toggle fee items by fee structure item and grade levels (e.g., activate transport for all Grade 1 students)
  """
  bulkToggleByFeeStructureItem(bulkToggleByFeeStructureItemInput: BulkToggleByFeeStructureItemInput!): [StudentFeeItem!]!

  """Bulk activate or deactivate multiple student fee items"""
  bulkToggleStudentFeeItems(bulkToggleInput: BulkToggleStudentFeeItemsInput!): [StudentFeeItem!]!
  changePassword(changePasswordInput: ChangePasswordInput!): PasswordResetResponse!
  configureSchoolLevelsByNames(levelNames: [String!]!): SchoolConfigurationResponse!

  """Create a new academic year for the tenant"""
  createAcademicYear(
    """Academic year creation input data"""
    input: CreateAcademicYearInput!
  ): AcademicYear!
  createAssessment(input: CreateAssessmentInput!): AssessmentOutput!
  createCustomSubject(input: CreateCustomSubjectInput!): TenantSubject!

  """
  Create a new fee assignment and assign it to students in specified grade levels
  """
  createFeeAssignment(createFeeAssignmentInput: CreateFeeAssignmentInput!): FeeAssignment!

  """Create a new fee bucket"""
  createFeeBucket(input: CreateFeeBucketInput!): FeeBucket!

  """Create a new fee structure with optional items in a single transaction"""
  createFeeStructureWithItems(input: CreateFeeStructureWithItemsInput!): FeeStructure!
  createHostel(input: CreateHostelInput!): Hostel!

  """Record a payment against an invoice"""
  createPayment(input: CreatePaymentInput!): Payment!
  createScholarship(input: CreateScholarshipInput!): Scholarship!
  createStream(input: CreateStreamInput!): StreamType!
  createStudent(createStudentInput: CreateStudentInput!): CreateStudentResponse!
  createTenantStreamFromScratch(input: CreateTenantStreamInput!): TenantStream!

  """Create a new term within an academic year"""
  createTerm(
    """Term creation input data"""
    input: CreateTermInput!
  ): Term!
  createTest(createTestInput: CreateTestInput!): Test!
  createTransportRoute(input: CreateTransportRouteInput!): TransportRoute!
  createUser(signupInput: SignupInput!): CreateUserResponse!
  deactivateTenantSubject(tenantSubjectId: String!): Boolean!

  """Delete an academic year"""
  deleteAcademicYear(id: ID!): Boolean!
  deleteAssignment(id: String!): Boolean!
  deleteCA(id: String!): Boolean!
  deleteExam(id: String!): Boolean!

  """Delete a fee bucket"""
  deleteFeeBucket(id: ID!): Boolean!

  """Permanently delete a fee structure (tenant scoped)"""
  deleteFeeStructure(id: ID!): Boolean!

  """
  Permanently delete a single fee-structure item (must belong to the logged-in tenant). Returns true when the row was removed, or throws NotFoundException.
  """
  deleteFeeStructureItem(id: ID!): Boolean!

  """
  Delete all fee structure items for a specific fee structure and return count
  """
  deleteFeeStructureItemsByStructure(feeStructureId: ID!): Float!

  """Permanently delete a payment (admin only)"""
  deletePayment(id: ID!): Boolean!
  deleteStaff(id: ID!): Boolean!
  deleteStream(id: ID!): Boolean!
  deleteTeacher(id: String!, tenantId: String!): String!
  deleteTenantStream(tenantStreamId: String!): Boolean!
  deleteTenantSubject(tenantSubjectId: String!): Boolean!

  """Delete a term"""
  deleteTerm(id: ID!): Boolean!
  deleteTransportRoute(id: ID!): Boolean!

  """Email receipt to student/parent"""
  emailReceipt(emailAddress: String!, paymentId: ID!): Boolean!
  enterStudentMarks(inputs: [EnterStudentMarksInput!]!): [AssessmentMark!]!
  forgotPassword(forgotPasswordInput: ForgotPasswordInput!): PasswordResetResponse!

  """Generate invoices for students based on their fee assignments"""
  generateInvoices(input: CreateInvoiceInput!): [Invoice!]!

  """Generate ledger report PDF"""
  generateLedgerPDF(dateRange: DateRangeInput, studentId: ID!): String!
  generateQuestions(generateQuestionsInput: GenerateQuestionsInput!): [GeneratedQuestionOutput!]!

  """Generate PDF receipt for a payment"""
  generateReceiptPDF(paymentId: ID!): String!
  inviteParent(createParentDto: CreateParentInvitationDto!, studentIds: [String!]!, tenantId: String!): InviteParentResponse!
  inviteStaff(createStaffDto: CreateStaffInvitationDto!): InviteStaffResponse!
  inviteTeacher(createTeacherDto: CreateTeacherInvitationDto!): InviteTeacherResponse!

  """Mark attendance for students in a specific grade"""
  markAttendance(markAttendanceInput: CreateAttendanceInput!): [Attendance!]!
  markChatAsRead(chatRoomId: String!): Boolean!

  """
  Refresh search cache for current user tenant (placeholder for future caching)
  """
  refreshSearchCache: Boolean!

  """Delete a fee assignment and all related student assignments"""
  removeFeeAssignment(id: ID!): Boolean!
  removeHostel(id: String!): Boolean!
  removeHostelAssignment(id: String!): Boolean!
  removeScholarship(id: ID!): Boolean!
  removeStudentFromRoute(input: RemoveTransportAssignmentInput!): Boolean!
  removeStudentScholarship(id: String!): Boolean!
  removeTransportRoute(id: String!): Boolean!
  resendTeacherInvitation(invitationId: String!): InviteTeacherResponse!
  resetPassword(resetPasswordInput: ResetPasswordInput!): PasswordResetResponse!
  revokeInvitation(invitationId: String!): RevokeInvitationResponse!
  revokeParentInvitation(invitationId: String!): RevokeInvitationResponse!
  revokeStudent(studentId: String!): String!
  runFullSocketTest: String!

  """Search students and cache results for performance"""
  searchAndCacheStudents(input: SearchStudentInput!): SearchStudentResult!

  """Search teachers and cache results for performance"""
  searchAndCacheTeachers(input: SearchStudentInput!): SearchTeacherResult!
  sendMessageToAllParents(input: BroadcastMessageInput!): [ChatMessage!]!
  sendMessageToAllStudents(input: BroadcastMessageInput!): [ChatMessage!]!
  sendMessageToParent(input: SendMessageInput!): ChatMessage!
  sendMessageToStudent(input: SendMessageInput!): ChatMessage!

  """Mark an academic year as the current one"""
  setCurrentAcademicYear(id: ID!): AcademicYear!

  """Mark a term as the current one for its academic year"""
  setCurrentTerm(id: ID!): Term!
  signIn(signInInput: SignInInput!): AuthResponse!
  submitAssignment(input: CreateAssignmentSubmissionInput!): AssignmentSubmission!

  """Activate or deactivate an optional fee item for a student"""
  toggleStudentFeeItem(isActive: Boolean!, studentFeeItemId: ID!): StudentFeeItem!
  toggleTenantStream(activate: Boolean!, tenantStreamId: String!): Boolean!
  unassignClassTeacher(input: UnassignClassTeacherInput!): Boolean!

  """Update an academic year"""
  updateAcademicYear(id: ID!, input: UpdateAcademicYearInput!): AcademicYear!
  updateCustomSubject(input: UpdateTenantSubjectInput!, tenantSubjectId: String!): TenantSubject!

  """Update a fee assignment"""
  updateFeeAssignment(id: ID!, updateFeeAssignmentInput: UpdateFeeAssignmentInput!): FeeAssignment!

  """Update an existing fee bucket"""
  updateFeeBucket(id: ID!, input: UpdateFeeBucketInput!): FeeBucket!

  """Update a fee structure (full item replacement)"""
  updateFeeStructure(id: ID!, input: UpdateFeeStructureInput!): FeeStructure!

  """
  Update a single fee-structure item that belongs to the current tenant. Only the fields supplied in the input are changed; all others are left intact. Returns the fully hydrated item (bucket, structure, academic-year, term, grade-level).
  """
  updateFeeStructureItem(id: ID!, input: UpdateFeeStructureItemInput!): FeeStructureItem!
  updateHostel(input: UpdateHostelInput!): Hostel!
  updateHostelAssignment(input: UpdateHostelAssignmentInput!): HostelAssignment!

  """Update an existing payment"""
  updatePayment(id: ID!, input: UpdatePaymentInput!): Payment!
  updateScholarship(input: UpdateScholarshipInput!): Scholarship!
  updateStaff(updateInput: UpdateStaffInput!): StaffDto!
  updateStream(input: UpdateStreamInput!): StreamType!
  updateStudentMarks(inputs: [EnterStudentMarksInput!]!): [AssessmentMark!]!
  updateStudentScholarship(input: UpdateStudentScholarshipInput!): StudentScholarship!
  updateTenantStream(input: UpdateTenantStreamInput!, tenantStreamId: String!): TenantStream!

  """Update a term"""
  updateTerm(id: ID!, input: UpdateTermInput!): Term!
  updateTest(updateTestInput: UpdateTestInput!): Test!
  updateTransportAssignment(input: UpdateTransportAssignmentInput!): TransportAssignment!
  updateTransportRoute(input: UpdateTransportRouteInput!): TransportRoute!

  """Void/cancel a payment (soft delete)"""
  voidPayment(id: ID!, reason: String!): Boolean!
}

type Option {
  id: ID!
  imageUrl: String
  isCorrect: Boolean!
  order: Float!
  question: Question!
  text: String!
}

type Parent {
  address: String
  createdAt: DateTime!
  email: String!
  id: ID!
  isActive: Boolean!
  name: String!
  occupation: String
  parentStudents: [ParentStudent!]!
  phone: String!
  tenantId: ID!
  updatedAt: DateTime!
  user: User
}

type ParentDto {
  address: String
  createdAt: DateTime!
  email: String!
  id: ID!
  isActive: Boolean!
  name: String!
  occupation: String
  phone: String!
  students: [StudentForParentDto!]!
  updatedAt: DateTime!
  userId: String
}

type ParentInfo {
  email: String!
  isPrimary: Boolean!
  name: String!
  parentId: ID!
  phone: String!
  relationship: String!
}

"""The method used by the parent to link to a student"""
enum ParentLinkingMethod {
  MANUAL_INPUT
  SEARCH_BY_ADMISSION
  SEARCH_BY_NAME
}

type ParentStudent {
  createdAt: DateTime!
  id: ID!
  isPrimary: Boolean!
  parent: Parent!
  parentId: ID!
  relationship: String!
  student: Student!
  studentId: ID!
  tenantId: ID!
  updatedAt: DateTime!
}

type PasswordResetResponse {
  message: String!
}

"""Represents a payment made towards an invoice"""
type Payment {
  amount: Float!
  createdAt: DateTime!
  id: ID!
  invoice: Invoice!
  invoiceId: ID!
  notes: String
  paymentDate: DateTime!
  paymentMethod: String
  receiptNumber: String!
  receivedBy: ID!
  receivedByUser: User!
  student: Student!
  studentId: ID!
  tenantId: String!
  transactionReference: String
  updatedAt: DateTime!
}

input PaymentFilters {
  endDate: String
  invoiceId: ID
  paymentMethod: String
  receiptNumber: String
  startDate: String
  studentId: ID
}

enum PaymentMethod {
  BANK_TRANSFER
  CARD
  CASH
  CHEQUE
  MPESA
  OTHER
}

type PendingInvitation {
  createdAt: DateTime!
  email: String!
  id: String!
  invitedBy: User
  role: String!
  status: InvitationStatus!
}

type PendingInvitationResponse {
  email: String!
  id: String!
  lastSentAt: DateTime
  name: String
  status: InvitationStatus!
  userData: JSON
}

type Query {
  """Get a specific academic year by ID"""
  academicYear(id: ID!): AcademicYear!

  """Get all academic years for the current tenant"""
  academicYears: [AcademicYear!]!
  activeStreams: [StreamType!]!
  allStudentScholarships: [StudentScholarship!]!
  allStudents: [Student!]!

  """Get comprehensive summaries for all students in the tenant"""
  allStudentsSummary: [StudentSummary!]!
  allUsersOfTenant(tenantId: String!): [TenantUserSummary!]!
  assessments(filter: AssessmentFilterInput): [AssessmentOutput!]!

  """Get all students assigned to a specific fee assignment"""
  assignedStudents(feeAssignmentId: ID!): [StudentFeeAssignment!]!

  """Get comprehensive summary of all fee structures with breakdowns"""
  comprehensiveFeeStructureSummary: ComprehensiveFeeStructureSummary!
  deactivatedTenantSubjects: [TenantSubject!]!

  """Get a specific fee assignment by ID"""
  feeAssignment(id: ID!): FeeAssignment!

  """Get all fee assignments for the current tenant"""
  feeAssignments: [FeeAssignment!]!

  """Get a single fee bucket by ID"""
  feeBucket(id: ID!): FeeBucket!

  """Get all fee buckets for the current tenant"""
  feeBuckets: [FeeBucket!]!

  """Get a single fee structure by id (tenant scoped)"""
  feeStructure(id: ID!): FeeStructure

  """Get fee structure summaries grouped by academic year"""
  feeStructureAcademicYearSummaries: [FeeStructureSummaryByAcademicYear!]!

  """
  Returns the single active fee-structure that matches the supplied academic-year, term and tenant-grade-level (all scoped to the logged-in tenant). Includes items and their buckets.
  """
  feeStructureByGradeAndTerm(academicYearId: ID!, termId: ID!): FeeStructure

  """Get fee structure summaries grouped by fee bucket"""
  feeStructureFeeBucketSummaries: [FeeStructureSummaryByFeeBucket!]!

  """Get fee structure summaries grouped by grade level"""
  feeStructureGradeLevelSummaries: [FeeStructureSummaryByGradeLevel!]!

  """Get a single fee structure item by ID"""
  feeStructureItem(id: ID!): FeeStructureItem!

  """Get all fee structure items for the tenant"""
  feeStructureItems: [FeeStructureItem!]!

  """Get all fee structure items for a specific fee structure"""
  feeStructureItemsByStructure(feeStructureId: ID!): [FeeStructureItem!]!

  """Get the total amount for all mandatory items in a fee structure"""
  feeStructureMandatoryAmount(feeStructureId: ID!): Float!

  """Get the total amount for all optional items in a fee structure"""
  feeStructureOptionalAmount(feeStructureId: ID!): Float!

  """Get tenant-wide fee structure summary"""
  feeStructureTenantSummary: FeeStructureSummaryByTenant!

  """Get the total amount for all items in a fee structure"""
  feeStructureTotalAmount(feeStructureId: ID!): Float!

  """
  Returns every active fee-structure that belongs to the logged-in tenant, with their items, buckets and grade-level details.
  """
  feeStructures: [FeeStructure!]!

  """Filter students and teachers by grade levels, subjects, and streams"""
  filterByGradeLevelAndSubjects(input: FilterInput!): FilteredResult!
  findAllHostels: [Hostel!]!

  """Get all mandatory fee structure items for a specific fee structure"""
  findMandatoryItems(feeStructureId: ID!): [FeeStructureItem!]!
  getAllClassTeacherAssignments: [ClassTeacherAssignment!]!
  getAllParents: [ParentDto!]!
  getAllStaff: [StaffDto!]!
  getAllTeachers: [Teacher!]!

  """
  Get all fee assignments for the current tenant with complete student and grade level data
  """
  getAllTenantFeeAssignments: TenantFeeAssignmentSummary!
  getAssignment(id: ID!): Assignment!
  getAssignmentsByRoute(routeId: String!): [TransportAssignment!]!
  getAttendanceByDate(date: String!, gradeId: String!): [Attendance!]!

  """Get all students and teachers for current user tenant"""
  getBothStudentsAndTeachersByTenant: CombinedSearchResult!
  getChatMessages(chatRoomId: String!, limit: Float = 50, offset: Float = 0): [ChatMessage!]!

  """Get a specific fee assignment by ID with all student details"""
  getFeeAssignmentById(feeAssignmentId: ID!): FeeAssignmentWithStudents!

  """
  Get fee assignments for specific tenant grade levels with all student details and fee items
  """
  getFeeAssignmentsByGradeLevels(input: GetFeeAssignmentsByGradeLevelsInput!): [FeeAssignmentWithStudents!]!
  getGradeLevelClassTeacher(gradeLevelId: String!): ClassTeacherAssignment
  getMyAssignmentss(limit: Float = 10, offset: Float = 0, status: AssignmentStatus, subjectId: ID): AssignmentsResponse!
  getMyChats: [ChatRoom!]!
  getParentsByTenant(tenantId: String!): [Parent!]!
  getPendingInvitations(tenantId: String!): [PendingInvitation!]!
  getPendingParentInvitations(tenantId: String!): [PendingInvitation!]!
  getPendingTeacherInvitation(email: String!): PendingInvitationResponse
  getPendingTeacherInvitations: [PendingInvitationResponse!]
  getSchoolConfiguration: SchoolConfigurationResponse!
  getSocketClients: [String!]!
  getStaffById(id: ID!): StaffDto!
  getStreamClassTeacher(streamId: String!): ClassTeacherAssignment

  """Get all streams for current user tenant"""
  getStreamsByTenant: [Stream!]!
  getStudentsByGrade(gradeId: String!): [Student!]!

  """Get all students for current user tenant"""
  getStudentsByTenant: SearchStudentResult!
  getStudentsForParent(parentId: String!, tenantId: String!): [StudentSearchResponse!]!
  getTeacher: Teacher!

  """Get all teachers for current user tenant"""
  getTeachersByTenant: SearchTeacherResult!
  getTeachersByTenants: [TeacherDto!]!

  """
  Get statistics for current user tenant (student count, teacher count, etc.)
  """
  getTenantStatistics: String!
  getTenantStreams(tenantGradeLevelId: String): [TenantStream!]!
  getTenantSubjects(curriculumId: String): [TenantSubject!]!
  getUnreadMessageCount: Float!
  gradeLevelsForSchoolType: [TenantGradeLevel!]!
  gradeLevelsWithStreams: [GradeLevelWithStreamsOutput!]!
  hostel(id: String!): Hostel!
  hostelAssignments(hostelId: String!): [HostelAssignment!]!

  """Get a single invoice by ID"""
  invoice(id: ID!): Invoice!

  """Get all invoices for the tenant"""
  invoices: [Invoice!]!

  """Get all invoices for a specific student"""
  invoicesByStudent(studentId: ID!): [Invoice!]!

  """Get ledger entries for a student"""
  ledgerEntries(dateRange: DateRangeInput, studentId: ID!): [LedgerEntry!]!

  """Get ledger summary for a student"""
  ledgerSummary(studentId: ID!): LedgerSummary!

  """Get ledgers for multiple students by grade level"""
  ledgersByGradeLevel(dateRange: DateRangeInput, gradeLevelId: ID!): [StudentLedger!]!
  marksStats(academicYear: String!, gradeLevelId: String!, subjectId: String!, term: Int!): MarksStatsDto!

  """
  Get academic summary and profile for the currently authenticated student
  """
  myAcademicProfile: StudentAcademicProfile!
  myAssignMents: [Test!]!

  """
  Get the complete student profile for the currently authenticated student
  """
  myStudentProfile: Student!

  """
  Get all services (hostel, transport, scholarship) for the currently authenticated student
  """
  myStudentServices: StudentServicesProfile!

  """Get all optional fee structure items for a specific fee structure"""
  optionalFeeStructureItems(feeStructureId: ID!): [FeeStructureItem!]!

  """Get a single payment by ID"""
  payment(id: ID!): Payment!

  """Get all payments for the tenant with optional filters"""
  payments(filters: PaymentFilters): [Payment!]!

  """Get all payments for a specific invoice"""
  paymentsByInvoice(invoiceId: ID!): [Payment!]!

  """Get all payments for a specific student"""
  paymentsByStudent(studentId: ID!): [Payment!]!

  """Get receipt by receipt number"""
  receiptByNumber(receiptNumber: String!): Receipt!

  """Get receipt by payment ID"""
  receiptByPayment(paymentId: ID!): Receipt!

  """Get all receipts for a student"""
  receiptsByStudent(studentId: ID!): [Receipt!]!
  scholarship(id: ID!): Scholarship!
  scholarships: [Scholarship!]!
  searchAvailableStudentsForParent(parentId: String!, searchTerm: String, tenantId: String!): [StudentSearchResponse!]!
  searchStudentByAdmission(admissionNumber: String!, tenantId: String!): StudentSearchResponse
  searchStudentsByManualInput(studentFullName: String, studentGrade: String, studentPhone: String, tenantId: String!): [StudentSearchResponse!]!
  searchStudentsByName(name: String!, tenantId: String!): [StudentSearchResponse!]!

  """Search for teachers by name within current user tenant"""
  searchTeachersByName(input: SearchStudentInput!): SearchTeacherResult!
  stream(id: ID!): StreamType!
  streams: [StreamType!]!
  streamsByGradeLevel(gradeLevelId: ID!): [StreamType!]!

  """Get all fee assignments for a specific student"""
  studentFeeAssignments(studentId: ID!): [StudentFeeAssignment!]!

  """Get all fee items for a specific student"""
  studentFeeItems(studentId: ID!): [StudentFeeItem!]!
  studentFeeSummary(studentId: ID!): StudentFeeSummary

  """Get complete ledger for a student"""
  studentLedger(dateRange: DateRangeInput, studentId: ID!): StudentLedger!

  """Get student profile by ID (only accessible by the student themselves)"""
  studentProfileById(studentId: ID!): Student!
  studentScholarships(studentId: String!): [StudentScholarship!]!

  """
  Get comprehensive summary for a single student including all fee details
  """
  studentSummary(studentId: ID!): StudentSummary!
  studentsByGradeLevel(tenantGradeLevelId: ID!): [Student!]!
  studentsForTenant: [StudentLoginInfo!]!

  """Get students summary grouped by grade level with aggregated statistics"""
  studentsSummaryByGradeLevel: [GradeLevelStudentsSummary!]!

  """Get students summary for a specific grade level"""
  studentsSummaryForGradeLevel(gradeLevelId: ID!): GradeLevelStudentsSummary!
  teacherGetParentById(parentId: String!): Parent
  teacherGetParents: [Parent!]!
  teacherGetParentsByStudentId(studentId: String!): [Parent!]!
  teacherGetPrimaryParentByStudentId(studentId: String!): Parent
  teacherGetStudentById(studentId: String!): Student
  teacherGetStudentParentRelationships: [ParentStudent!]!
  teacherGetStudents: [TeacherStudentDto!]!
  teacherGetStudentsByGradeLevel(gradeLevelId: String!): [Student!]!
  teacherGetStudentsByStream(streamId: String!): [Student!]!
  teacherGetStudentsWithParents: [StudentWithParentsType!]!

  """Get all fee items for a tenant"""
  tenantFeeItems: [StudentFeeItem!]!
  tenantStreams: [TenantStream!]!
  tenantSubjects: [TenantSubject!]!

  """Retrieves a single term by its ID"""
  term(
    """The ID of the term"""
    id: ID!
  ): Term!
  termAssessmentsWithStudents(academicYear: String!, gradeLevelId: String!, term: Int!): TermAssessmentWithStudentsDto!

  """Get all terms for the current tenant, including academic year details"""
  terms: [Term!]!

  """Get all terms for a specific academic year"""
  termsByAcademicYear(academicYearId: ID!): [Term!]!
  testById(id: String!): Test
  testSocket(scenario: String): String!
  transportRoutes: [TransportRoute!]!
  users: [User!]!
  usersByTenant(role: String, tenantId: String!): [User!]!
}

type Question {
  aiPrompt: String
  id: ID!
  imageUrls: [String!]
  isAIGenerated: Boolean!
  marks: Float!
  options: [Option!]!
  order: Float!
  test: Test!
  text: String!
  type: String!
}

"""The supported question types"""
enum QuestionType {
  """Multiple choice question with several options"""
  MULTIPLE_CHOICE

  """Short answer question requiring text input"""
  SHORT_ANSWER

  """True or false question"""
  TRUE_FALSE
}

"""Represents a payment receipt"""
type Receipt {
  amount: Float!
  createdAt: DateTime!
  id: ID!
  payment: Payment!
  paymentId: ID!
  pdfUrl: String
  receiptDate: DateTime!
  receiptNumber: String!
  student: Student!
  studentId: ID!
  tenantId: String!
  type: ReceiptType!
}

enum ReceiptType {
  ADJUSTMENT
  PAYMENT
  REFUND
}

type ReferenceMaterial {
  createdAt: DateTime!
  fileSize: Float
  fileType: String!
  fileUrl: String!
  id: ID!
  test: Test!
}

input RemoveTransportAssignmentInput {
  """Transport route ID to remove student from"""
  routeId: ID!

  """Student ID to remove from transport route"""
  studentId: ID!
}

input ResetPasswordInput {
  confirmPassword: String!
  newPassword: String!
  token: String!
}

type RevokeInvitationResponse {
  message: String!
}

type Scholarship {
  amount: Float!
  createdAt: DateTime!
  description: String
  id: ID!
  name: String!
  studentScholarships: [StudentScholarship!]
  tenantId: String!
  type: String!
}

type ScholarshipService {
  currentScholarship: Scholarship
  hasScholarship: Boolean!
  scholarshipHistory: [Scholarship!]
}

type School {
  createdAt: DateTime!
  isActive: Boolean!
  schoolId: ID!
  schoolName: String!
  schoolType: SchoolType!
  subdomain: String!
  updatedAt: DateTime!
}

type SchoolConfigLevel {
  id: ID!
  level: Level!
}

type SchoolConfigurationResponse {
  createdAt: DateTime!
  id: ID!
  selectedLevels: [SelectedLevel!]!
  subjects: [SubjectInfo!]
  tenant: TenantInfo!
}

type SchoolLevel {
  curriculum: Curriculum
  curriculumSubjects: [CurriculumSubject!]
  gradeLevels: [GradeLevel!]
  id: ID!
  name: String!
  schoolType: SchoolType!
}

type SchoolType {
  code: String
  description: String
  icon: String
  id: ID!
  levels: [Level!]
  name: String!
  priority: Float
  schoolLevels: [SchoolLevel!]
  schools: [School!]
}

type SchoolTypeConfig {
  description: String!
  icon: String!
  levels: [SchoolTypeLevel!]!
  menuItems: [String!]!
  name: String!
  priority: Float!
  type: String!
}

type SchoolTypeGrade {
  age: Float!
  name: String!
}

type SchoolTypeLevel {
  description: String!
  grades: [SchoolTypeGrade!]!
  name: String!
}

input SearchStudentInput {
  name: String!
}

type SearchStudentResult {
  count: Float!
  students: [Student!]!
}

type SearchTeacherResult {
  count: Float!
  teachers: [Teacher!]!
}

type SelectedLevel {
  description: String
  gradeLevels: [GradeLevelInfo!]!
  id: ID!
  name: String!
  subjects: [SubjectInfo!]!
}

input SendMessageInput {
  imageUrl: String
  message: String!
  recipientId: String!
  recipientType: String!
  subject: String
}

input SignInInput {
  email: String!
  password: String!
}

input SignupInput {
  email: String!
  name: String!
  password: String!
  schoolName: String!
  schoolUrl: String
}

type StaffDto {
  address: String
  bankAccount: String
  bankName: String
  createdAt: DateTime!
  dateOfBirth: String
  dateOfJoining: String
  department: String
  email: String!
  emergencyContact: String
  emergencyContactPhone: String
  employeeId: String
  firstName: String!
  fullName: String!
  gender: String!
  hasCompletedProfile: Boolean!
  id: ID!
  isActive: Boolean!
  jobDescription: String
  lastName: String!
  nationalId: String
  phoneNumber: String
  qualifications: String
  role: String!
  salary: Float
  status: StaffStatus!
  supervisor: String
  updatedAt: DateTime!
  userId: String
  workExperience: String
}

type StaffInfo {
  id: ID!
  name: String!
  role: String!
}

enum StaffStatus {
  ACTIVE
  INACTIVE
  SUSPENDED
  TERMINATED
}

type Stream {
  capacity: Int
  createdAt: DateTime!
  description: String
  id: ID!
  isActive: Boolean
  name: String!
  tenant: Tenant!
  updatedAt: DateTime!
}

type StreamInfo {
  id: ID!
  name: String!
}

type StreamOutput {
  id: String!
  name: String!
}

type StreamType {
  capacity: Int
  createdAt: DateTime!
  description: String
  gradeLevel: GradeLevel!
  id: ID!
  isActive: Boolean!
  name: String!
  updatedAt: DateTime!
}

type Student {
  admission_number: String!
  createdAt: DateTime!
  feesOwed: Float!
  gender: String!
  grade: TenantGradeLevel!
  hostelAssignments: [HostelAssignment!]
  id: ID!
  isActive: Boolean!
  phone: String!
  scholarships: Scholarship
  schoolType: String
  stream: Stream
  studentScholarships: [StudentScholarship!]
  tenant: Tenant!
  tenant_id: ID!
  totalFeesPaid: Float!
  transportAssignments: [TransportAssignment!]
  updatedAt: DateTime!
  user: User!
  user_id: ID!
}

type StudentAcademicProfile {
  academicSummary: AcademicSummary!
  student: Student!
}

"""Represents the assignment of a fee structure to a specific student"""
type StudentFeeAssignment {
  """The date and time when the assignment was created"""
  createdAt: DateTime!

  """The fee assignment this belongs to"""
  feeAssignment: FeeAssignment!

  """The ID of the fee assignment"""
  feeAssignmentId: ID!

  """The fee items assigned to this student"""
  feeItems: [StudentFeeItem!]!

  """Indicates whether this student fee assignment has an invoice"""
  hasInvoice: Boolean!

  """The unique identifier of the student fee assignment"""
  id: ID!

  """Indicates if the assignment is currently active"""
  isActive: Boolean!

  """The student this fee assignment belongs to"""
  student: Student!

  """The ID of the student"""
  studentId: ID!

  """The ID of the tenant this assignment belongs to"""
  tenantId: String!

  """The date and time when the assignment was last updated"""
  updatedAt: DateTime!
}

"""Represents individual fee items assigned to a student"""
type StudentFeeItem {
  """The amount for this fee item"""
  amount: Float!

  """The date and time when the item was created"""
  createdAt: DateTime!

  """The fee structure item this is based on"""
  feeStructureItem: FeeStructureItem!

  """The ID of the fee structure item"""
  feeStructureItemId: ID!

  """The unique identifier of the student fee item"""
  id: ID!

  """Indicates if this fee item is currently active for the student"""
  isActive: Boolean!

  """Indicates if this fee item is mandatory"""
  isMandatory: Boolean!

  """The student fee assignment this item belongs to"""
  studentFeeAssignment: StudentFeeAssignment!

  """The ID of the student fee assignment"""
  studentFeeAssignmentId: ID!

  """The ID of the tenant this item belongs to"""
  tenantId: String!

  """The date and time when the item was last updated"""
  updatedAt: DateTime!
}

type StudentFeeItemSummary {
  amount: Float!
  bucketName: String!
  id: ID!
  isMandatory: Boolean!
}

type StudentFeeSummary {
  academicYear: String!
  admissionNumber: String!
  feeStructureName: String
  gradeLevel: String!
  items: [StudentFeeItemSummary!]!
  studentId: ID!
  studentName: String!
  terms: [String!]!
  totalAmount: Float!
}

type StudentFeeSummarys {
  balance: Float!
  feeItems: [FeeItemSummary!]!
  numberOfFeeItems: Int!
  totalOwed: Float!
  totalPaid: Float!
}

type StudentForParentDto {
  admissionNumber: String!
  firstName: String!
  grade: String!
  id: ID!
  isPrimary: Boolean!
  lastName: String!
  relationship: String!
}

"""Complete student ledger"""
type StudentLedger {
  dateRangeEnd: DateTime
  dateRangeStart: DateTime
  entries: [LedgerEntry!]!
  generatedAt: DateTime!
  student: Student!
  studentId: ID!
  summary: LedgerSummary!
}

type StudentLoginInfo {
  admission_number: String!
  email: String!
  grade: String!
  id: ID!
  name: String!
}

input StudentMarkInput {
  assessmentId: ID!
  score: Float!
}

type StudentScholarship {
  academicYear: String!
  awardedAt: DateTime!
  id: ID!
  scholarship: Scholarship!
  status: String!
  student: Student!
}

type StudentSearchResponse {
  admissionNumber: String!
  grade: String!
  id: String!
  name: String!
  phone: String
  streamId: String
}

type StudentServices {
  hostel: HostelService!
  scholarship: ScholarshipService!
  transport: TransportService!
}

type StudentServicesProfile {
  services: StudentServices!
  student: Student!
}

type StudentSummary {
  admissionNumber: String!
  createdAt: DateTime!
  curriculumName: String!
  email: String!
  feeSummary: StudentFeeSummarys!
  gender: String!
  gradeLevelName: String!
  id: ID!
  isActive: Boolean!
  phone: String!
  schoolType: String!
  streamName: String
  studentName: String!
  updatedAt: DateTime!
}

type StudentSummaryDto {
  admissionNumber: String!
  grade: String!
  id: String!
  name: String!
}

type StudentWithParentsType {
  admissionNumber: String!
  parents: [ParentInfo!]!
  studentId: ID!
}

type Subject {
  category: String
  code: String!
  creditHours: Float
  curriculum: String
  curriculumSubjects: [CurriculumSubject]
  department: String
  description: String
  id: ID!
  isCompulsory: Boolean
  name: String!
  passingMarks: Float
  shortName: String
  subjectType: String
  totalMarks: Float
}

type SubjectInfo {
  category: String
  code: String!
  creditHours: Float
  curriculum: String!
  department: String
  id: ID!
  isCompulsory: Boolean!
  name: String!
  passingMarks: Float
  shortName: String
  subjectType: String!
  totalMarks: Float
}

type SubjectOutput {
  id: ID!
  name: String!
}

"""The type of the subject"""
enum SubjectType {
  ACADEMIC
  ARTS
  COMPULSORY
  CORE
  ELECTIVE
  MIXED
  OPTIONAL
  PRACTICAL
  SPORTS
  THEORY
  VOCATIONAL
}

enum SubjectTypeEnum {
  CORE
  ELECTIVE
}

type Subscription {
  messageAdded: ChatMessage!
}

type Teacher {
  address: String
  classTeacherAssignments: [ClassTeacherAssignment!]
  createdAt: DateTime!
  dateOfBirth: DateTime
  department: String!
  email: String!
  employeeId: String
  firstName: String!
  fullName: String!
  gender: String!
  hasCompletedProfile: Boolean
  id: ID!
  isActive: Boolean
  lastName: String!
  phoneNumber: String!
  qualifications: String
  role: String!
  school: School
  tenant: Tenant!
  tenantGradeLevels: [TenantGradeLevel!]
  tenantStreams: [TenantStream!]
  tenantSubjects: [TenantSubject!]
  updatedAt: DateTime!
  user: User
}

type TeacherDto {
  address: String
  dateOfBirth: DateTime
  department: String!
  email: String!
  employeeId: String
  firstName: String!
  fullName: String!
  gender: String!
  hasCompletedProfile: Boolean!
  id: ID!
  isActive: Boolean!
  lastName: String!
  phoneNumber: String!
  subject: String
  userId: String
}

type TeacherOutput {
  id: String!
  name: String!
}

type TeacherStudentDto {
  admission_number: String!
  createdAt: DateTime!
  feesOwed: Float!
  gender: String!
  grade: TeacherStudentGradeDto
  grade_level_id: ID
  id: ID!
  phone: String!
  stream: TeacherStudentStreamDto
  streamId: ID
  totalFeesPaid: Float!
  updatedAt: DateTime!
}

type TeacherStudentGradeDto {
  code: String!
  id: ID!
  name: String!
}

type TeacherStudentStreamDto {
  id: ID!
  name: String!
}

type Tenant {
  createdAt: DateTime!
  description: String
  id: ID!
  isActive: Boolean!
  memberships: [UserTenantMembership!]!
  name: String!
  subdomain: String!
  updatedAt: DateTime!
}

"""
Complete fee assignment data for a tenant including all grade levels and students
"""
type TenantFeeAssignmentSummary {
  """All fee assignments for this tenant"""
  feeAssignments: [FeeAssignmentWithStudents!]!

  """The tenant ID"""
  tenantId: ID!

  """Total number of fee assignments"""
  totalFeeAssignments: Int!

  """Total number of students with fee assignments"""
  totalStudentsWithFees: Int!
}

type TenantGradeLevel {
  createdAt: DateTime!
  curriculum: Curriculum!
  gradeLevel: GradeLevel!
  id: ID!
  isActive: Boolean!
  name: String
  shortName: String
  sortOrder: Float
  tenant: Tenant!
  tenantStreams: [TenantStream!]
  updatedAt: DateTime!
}

type TenantGradeLevelOutput {
  gradeLevel: GradeLevelOutput
  id: ID!
}

type TenantInfo {
  id: ID!
  schoolName: String!
  subdomain: String
}

type TenantStream {
  createdAt: DateTime!
  id: ID!
  isActive: Boolean!
  stream: Stream!
  tenant: Tenant!
  tenantGradeLevel: TenantGradeLevel!
  updatedAt: DateTime!
}

type TenantSubject {
  createdAt: DateTime!
  creditHours: Float
  curriculum: Curriculum!
  customSubject: CustomSubject
  id: ID!
  isActive: Boolean!
  isCompulsory: Boolean!
  passingMarks: Float
  subject: Subject
  subjectType: String!
  totalMarks: Float
  updatedAt: DateTime!
}

type TenantSubjectOutput {
  id: ID!
  subject: SubjectOutput
}

type TenantUserSummary {
  email: String!
  id: String!
  name: String!
  role: MembershipRole!
  tenantId: String!
}

"""Represents an academic term"""
type Term {
  """The academic year to which this term belongs"""
  academicYear: AcademicYear!

  """The ID of the academic year this term belongs to"""
  academicYearId: ID!

  """The date and time when the term was created"""
  createdAt: DateTime!

  """The end date of the term"""
  endDate: DateTime!

  """The unique identifier of the term"""
  id: ID!

  """Indicates if the term is currently active"""
  isActive: Boolean!
  isCurrent: Boolean!

  """The name of the term"""
  name: String!

  """The start date of the term"""
  startDate: DateTime!

  """The ID of the tenant this term belongs to"""
  tenantId: String!

  """The date and time when the term was last updated"""
  updatedAt: DateTime!
}

type TermAssessmentWithStudentsDto {
  assessments: [Assessment!]!
  students: [Student!]!
}

type Test {
  createdAt: DateTime!
  date: DateTime!
  duration: Float!
  endTime: String
  gradeLevels: [TenantGradeLevel!]!
  id: ID!
  instructions: String
  questions: [Question!]!
  referenceMaterials: [ReferenceMaterial!]!
  resourceUrl: String
  startTime: String!
  status: String!
  subject: TenantSubject!
  teacher: User!
  title: String!
  totalMarks: Float!
  updatedAt: DateTime!
}

type TokenPair {
  accessToken: String!
  refreshToken: String!
}

type TokenResponse {
  accessToken: String!
  refreshToken: String!
}

type TokensOutput {
  accessToken: String!
  refreshToken: String!
}

type TransportAssignment {
  assignedAt: DateTime!
  createdAt: DateTime!
  id: ID!
  pickupPoint: String
  route: TransportRoute
  routeId: ID!
  status: String!
  student: Student
  studentId: ID!
  tenantId: String!
  vacatedAt: DateTime
}

type TransportRoute {
  assignments: [TransportAssignment!]
  billingCycleLabel: String
  createdAt: DateTime!
  fee: Float!
  id: ID!
  name: String!
  tenantId: String!
}

type TransportService {
  assignments: [TransportAssignment!]
  isAssigned: Boolean!
  pickupPoint: String
  route: TransportRoute
}

input UnassignClassTeacherInput {
  teacherId: ID!
}

input UpdateAcademicYearInput {
  endDate: String
  isActive: Boolean
  isCurrent: Boolean
  name: String
  startDate: String
}

"""Input for updating a fee assignment"""
input UpdateFeeAssignmentInput {
  """Updated description or notes"""
  description: String

  """The ID of the fee structure to assign"""
  feeStructureId: String

  """Whether the assignment is active"""
  isActive: Boolean

  """Array of tenant grade level IDs (not grade level IDs)"""
  tenantGradeLevelIds: [String!]
}

"""Input type for updating a fee bucket"""
input UpdateFeeBucketInput {
  """Description of the fee bucket"""
  description: String

  """Whether the fee bucket is active"""
  isActive: Boolean

  """The name of the fee bucket"""
  name: String
}

input UpdateFeeStructureInput {
  gradeLevelIds: [String!]
  isActive: Boolean
  name: String
}

"""Input for updating a fee structure item (partial)"""
input UpdateFeeStructureItemInput {
  amount: Float
  feeBucketId: ID
  isMandatory: Boolean
}

input UpdateHostelAssignmentInput {
  bedNumber: String
  id: String!
  roomNumber: String
  status: String
  vacatedAt: DateTime
}

input UpdateHostelInput {
  capacity: Int
  feeAmount: Float
  id: ID!
  name: String
}

input UpdatePaymentInput {
  amount: Float
  notes: String
  paymentDate: String
  paymentMethod: PaymentMethod
  transactionReference: String
}

input UpdateScholarshipInput {
  amount: Float
  description: String
  id: ID!
  name: String
  type: String
}

input UpdateStaffInput {
  address: String
  bankAccount: String
  bankName: String
  dateOfBirth: String
  dateOfJoining: String
  department: String
  emergencyContact: String
  emergencyContactPhone: String
  employeeId: String
  firstName: String
  fullName: String
  gender: String!
  id: ID!
  jobDescription: String
  lastName: String
  nationalId: String
  phoneNumber: String
  qualifications: String
  role: String!
  salary: Float
  status: StaffStatus
  supervisor: String
  workExperience: String
}

input UpdateStreamInput {
  capacity: Float
  description: String
  gradeLevelId: ID
  id: ID!
  isActive: Boolean
  name: String
}

input UpdateStudentScholarshipInput {
  academicYear: String
  id: String!
  status: String
}

input UpdateTenantStreamInput {
  isActive: Boolean
}

input UpdateTenantSubjectInput {
  category: String
  code: String
  creditHours: Float
  department: String
  isActive: Boolean
  isCompulsory: Boolean
  name: String
  passingMarks: Float
  shortName: String
  subjectType: String
  totalMarks: Float
}

"""Input for updating a term"""
input UpdateTermInput {
  endDate: String
  isActive: Boolean
  isCurrent: Boolean
  name: String
  startDate: String
}

input UpdateTestInput {
  date: DateTime
  duration: Int
  endTime: String
  id: ID!
  instructions: String
  questions: [CreateQuestionInput!]
  referenceMaterials: [CreateReferenceMaterialInput!]
  resourceUrl: String
  startTime: String
  tenantGradeLevelIds: [ID!]
  tenantSubjectId: ID
  title: String
  totalMarks: Int
}

input UpdateTransportAssignmentInput {
  """Transport assignment ID to update"""
  assignmentId: ID!

  """New transport route ID (optional - for changing routes)"""
  newRouteId: ID

  """Updated pickup point (optional)"""
  pickupPoint: String
}

input UpdateTransportRouteInput {
  billingCycleLabel: String
  fee: Float
  id: ID!
  name: String
}

type User {
  createdAt: DateTime!
  email: String!
  id: ID!
  isGlobalAdmin: Boolean!
  memberships: [UserTenantMembership!]!
  name: String!
  password: String!
  schoolUrl: String!
  tests: [Test!]
  updatedAt: DateTime!
}

type UserInfo {
  email: String!
  id: ID!
  name: String!
}

type UserInvitation {
  createdAt: DateTime!
  email: String!
  expiresAt: DateTime!
  id: ID!
  invitedBy: User
  role: String!
  status: InvitationStatus!
  tenant: Tenant!
  token: String!
  updatedAt: DateTime!
}

type UserTenantMembership {
  createdAt: DateTime!
  id: ID!
  joinedAt: DateTime
  permissions: [String!]
  role: MembershipRole!
  status: MembershipStatus!
  tenant: Tenant!
  updatedAt: DateTime!
  user: User!
}